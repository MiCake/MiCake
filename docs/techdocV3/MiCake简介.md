# MiCake 简介

## 什么是 MiCake？

**MiCake**（米蛋糕）是一个基于 .NET Standard 开发的轻量级领域驱动设计（DDD）工具包。它旨在帮助开发者快速将现有项目转换为 DDD 风格，同时保持代码的简洁性和灵活性。

MiCake 不是一个传统意义上的"框架"，而是一个"工具包"。它提供了实践 DDD 所需的各种组件和工具，但不会强制改变你的开发习惯。

## 核心特点

### 🚀 快捷
快速将您的项目转换为 DDD 风格，让您更专注于领域代码的编写，而不是框架的配置。通过简单的配置和少量代码，即可将现有项目升级为 DDD 架构。

### 📐 规范
实现了 DDD 战术模式提出的几乎所有核心部件：
- **实体（Entity）**：具有唯一标识的领域对象
- **值对象（Value Object）**：通过属性值进行比较的不可变对象
- **聚合根（Aggregate Root）**：聚合的根实体，作为外部访问的入口
- **仓储（Repository）**：提供聚合根的持久化操作
- **领域事件（Domain Event）**：捕获领域中发生的重要事件
- **领域服务（Domain Service）**：封装不属于实体或值对象的领域逻辑
- **工作单元（Unit of Work）**：管理业务事务和数据一致性

### 🎯 方便
提供项目开发常用的基础功能：
- **全局异常处理**：统一的异常捕获和处理机制
- **统一数据返回格式**：标准化的 API 响应结构
- **自动审计功能**：自动记录实体的创建和修改时间
- **软删除支持**：逻辑删除实体而非物理删除
- **依赖注入增强**：简化服务注册和生命周期管理
- **丰富的工具集**：缓存、转换器、查询、弹性等实用工具

### 🔄 灵活
采用模块化设计，您可以根据自身需求选择特定的 MiCake 模块进行使用：
- 只需要 DDD 核心组件？仅引用 `MiCake` 包
- 需要 EF Core 集成？添加 `MiCake.EntityFrameworkCore` 包
- 开发 Web API？使用 `MiCake.AspNetCore` 包
- 快速起步？使用 `MiCake.AspNetCore.Start` 一键配置

### 🪶 轻柔
"轻柔"是 MiCake 的核心设计理念：
- **非侵入式**：无感融入现有项目，不改变你的编程习惯
- **低耦合**：框架代码与业务代码清晰分离
- **可选使用**：不强制使用 DDD，可以逐步引入
- **几乎无感**：当你不使用 DDD 特性时，甚至感觉不到它的存在

## 设计理念

MiCake 在设计之初就被定位为**"很薄的一层"**：

### 非侵入式
MiCake 包裹你的 .NET 项目但并不干扰。你仍然可以使用原有的编程习惯、熟悉的类库和工具。它不会强制你采用特定的编码风格或架构模式。

### 不是框架
MiCake 不会约束你的开发风格。它只是提供工具和组件，让你可以选择性地使用。你可以部分使用 MiCake 的功能，也可以与其他框架和库自由组合。

### 不是 DDD
MiCake 本身不是 DDD，它只是让你更好地践行 DDD。DDD 是一套方法论，而 MiCake 是实践这套方法论的工具。你需要理解 DDD 的概念才能更好地使用 MiCake。

### 渐进式采用
你可以从最简单的功能开始，逐步引入更多的 DDD 特性：
1. 首先使用模块系统和依赖注入
2. 然后引入实体和仓储
3. 接着使用聚合根和领域事件
4. 最后完善领域服务和值对象

## 技术架构

MiCake 采用分层的模块化架构，主要包含以下核心包：

### MiCake.Core
**核心基础包**，提供：
- 模块系统（Modularity）
- 依赖注入增强（Dependency Injection）
- 异常处理（Exception Handling）
- 工具集（Utilities）

### MiCake
**DDD 核心组件包**，提供：
- 实体基类（Entity）
- 值对象基类（Value Object）
- 聚合根基类（Aggregate Root）
- 仓储接口（Repository）
- 领域事件（Domain Event）
- 领域服务接口（Domain Service）
- 审计功能（Audit）
- 软删除支持（Soft Delete）

### MiCake.AspNetCore
**ASP.NET Core 集成包**，提供：
- 统一返回格式（Response Wrapper）
- 数据包装器（Data Wrapper）
- Web 模块支持
- 中间件集成

### MiCake.EntityFrameworkCore
**Entity Framework Core 集成包**，提供：
- 仓储实现（Repository Implementation）
- DbContext 基类
- 领域事件自动派发
- 工作单元实现（Unit of Work）
- 审计数据持久化

### MiCake.AspNetCore.Start
**快速启动包**，提供：
- 一站式配置方法
- 常用功能的默认配置
- 简化的初始化流程

## 适用场景

MiCake 特别适合以下场景：

### 新项目开发
- 希望使用 DDD 方法构建新的 .NET 应用
- 需要快速搭建具有清晰架构的项目
- 团队熟悉或希望学习 DDD

### 现有项目重构
- 希望将现有项目逐步重构为 DDD 风格
- 需要改善代码的可维护性和可测试性
- 想要引入更好的业务逻辑组织方式

### 中小型企业应用
- 复杂度适中的业务系统
- 需要良好的架构但不想引入重量级框架
- 希望保持技术栈的灵活性

### 学习和实践 DDD
- 学习领域驱动设计的概念和实践
- 需要一个轻量级的 DDD 参考实现
- 希望在实际项目中应用 DDD

## 不适用场景

以下场景可能不太适合使用 MiCake：

- **超大型复杂系统**：可能需要更完整的企业级框架
- **简单 CRUD 应用**：直接使用 EF Core 等 ORM 即可，无需 DDD
- **对性能极致要求**：DDD 的抽象层会带来一定的性能开销
- **团队完全不了解 DDD**：需要先学习 DDD 基础概念

## 环境要求

### 开发环境
- **.NET Core 5.0** 及以上版本
- **C# 9.0** 及以上版本
- **Visual Studio 2019** 或更高版本（推荐）
- 或 **Visual Studio Code** + C# 扩展
- 或 **JetBrains Rider**

### 运行环境
- 支持跨平台部署（Windows、Linux、macOS）
- 容器化部署（Docker）
- 云平台部署（Azure、AWS、阿里云等）

### 依赖项
- **Entity Framework Core 5.0+**（可选，用于数据持久化）
- **ASP.NET Core 5.0+**（可选，用于 Web 应用）

## 性能考虑

MiCake 作为一个轻量级工具包，对性能的影响微乎其微：

- **最小运行时开销**：核心抽象基于接口，JIT 优化效果好
- **按需加载**：模块化设计，只加载使用的功能
- **无反射滥用**：关键路径避免使用反射
- **内存友好**：合理的对象生命周期管理

## 开源协议

MiCake 使用 **MIT** 开源协议，你可以：
- ✅ 自由地在商业项目中使用
- ✅ 自由地在非商业项目中使用
- ✅ 修改源代码以满足需求
- ✅ 分发和重新打包

唯一的要求是保留版权声明和许可证文本。

## 社区与支持

### 官方资源
- **GitHub 仓库**：[https://github.com/MiCake/MiCake](https://github.com/MiCake/MiCake)
- **官方网站**：[http://www.micake.net](http://www.micake.net)
- **NuGet 包**：搜索 "MiCake" 查看所有可用包

### 获取帮助
- **问题反馈**：通过 GitHub Issues 提交 Bug 或功能建议
- **讨论交流**：GitHub Discussions 讨论使用问题
- **技术博客**：关注作者博客了解最新进展

### 贡献代码
我们欢迎社区贡献！你可以：
- 提交 Pull Request 改进代码
- 完善文档和示例
- 分享使用经验和最佳实践
- 帮助回答其他用户的问题

## 版本规划

MiCake 遵循语义化版本规范（SemVer）：

- **主版本号**：不兼容的 API 变更
- **次版本号**：向下兼容的功能新增
- **修订号**：向下兼容的问题修复

当前版本支持 .NET 5.0+，未来将持续跟进 .NET 新版本。

## 下一步

- 阅读 [快速开始](./快速开始.md) 了解如何在项目中集成 MiCake
- 学习 [核心概念](./核心概念.md) 理解 MiCake 的关键概念
- 查看 [领域驱动设计](./实体.md) 部分了解 DDD 组件的使用

## 总结

MiCake 是一个：
- ✅ **轻量级**的 DDD 工具包
- ✅ **非侵入式**的架构增强
- ✅ **模块化**的功能组织
- ✅ **易上手**的开发体验
- ✅ **生产就绪**的成熟方案

它不会改变你的开发习惯，只会让你的代码更清晰、更易维护。
